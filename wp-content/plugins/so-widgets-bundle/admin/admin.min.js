jQuery((function(i){i(".so-widget-toggle-active button").click((function(){var t=i(this),s=t.data("status"),e=t.closest(".so-widget");s?e.addClass("so-widget-is-active").removeClass("so-widget-is-inactive"):e.removeClass("so-widget-is-active").addClass("so-widget-is-inactive"),i.post(soWidgetsAdmin.toggleUrl,{widget:e.data("id"),active:s},(function(i){}))})),i(".so-widget-banner").each((function(){var t=i(this),s=t.find("img");if(s.length)s.width()>128&&s.css("margin-left",-(s.width()-128)/2);else{var e=Trianglify({width:128,height:128,variance:1,cell_size:32,seed:t.data("seed")});t.append(e.svg())}}));var t=function(){var t=i(this).val().toLowerCase();""===t?i(".so-widget-wrap").show():i(".so-widget").each((function(){var s=i(this);s.find("h3").html().toLowerCase().indexOf(t)>-1?s.parent().show():s.parent().hide()}))};i("#sow-widget-search input").on({keyup:t,search:t}),i(window).resize((function(){var t=i(".so-widget-text").css("height","auto"),s=0;t.each((function(){s=Math.max(s,i(this).height())})),t.each((function(){i(this).css("height",s)}))})).resize(),i("#sow-widgets-page .page-nav a").click((function(t){t.preventDefault();var s=i(this),e=s.attr("href"),a=s.closest("li");switch(i("#sow-widgets-page .page-nav li").not(a).removeClass("active"),a.addClass("active"),e){case"#all":i(".so-widget-wrap").show();break;case"#enabled":i(".so-widget-wrap").hide(),i(".so-widget-wrap .so-widget-is-active").each((function(){i(this).closest(".so-widget-wrap").show()})),i(".so-widget-wrap .so-widget-is-inactive").each((function(){i(this).closest(".so-widget-wrap").hide()}));break;case"#disabled":i(".so-widget-wrap .so-widget-is-active").each((function(){i(this).closest(".so-widget-wrap").hide()})),i(".so-widget-wrap .so-widget-is-inactive").each((function(){i(this).closest(".so-widget-wrap").show()}))}i(window).resize()})),i("#widgets-list").addClass("so-animated");var s=i("#sow-settings-dialog");if(i("#widgets-list .so-widget-settings").click((function(t){var e=i(this);t.preventDefault(),$content=s.find(".so-content"),$content.empty().addClass("so-loading"),i.get(e.data("form-url"),(function(i){$content.html(i).removeClass("so-loading")})),s.show()})),s.find(".so-close").click((function(i){i.preventDefault(),s.hide()})),s.find(".so-save").click((function(t){t.preventDefault();var e=i(this);e.prop("disabled",!0),s.find("form").submit((function(){e.prop("disabled",!1),s.hide()})).submit()})),i("#so-widget-settings-save").on("load",(function(){i("#widgets-list .so-widget-settings").prop("disabled",!1)})),window.location.hash&&"#settings-"===window.location.hash.substring(0,10)){var e=window.location.hash.substring(10);i('div[data-id="'+e+'"] button.so-widget-settings').click()}}));